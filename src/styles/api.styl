@import "color.styl"
@import "size.styl"
@import "font.styl"

set-absolute()
  position absolute
  left 0
  top 0
  width 100%
  height 100%
  content ""

background-blur(strength = 8px)
  set-absolute()
  backdrop-filter blur(strength)

$simple-blur
  background-blur(8px)
  background var(--widget)

scrollbar(_width = 3px, axis = "x")
  &::-webkit-scrollbar
    if axis == "x"
      width _width
    else
      height _width
    background white
    @media (prefers-color-scheme dark)
      background black

  &::-webkit-scrollbar-thumb
    background rgba(black, 0.5)
    @media (prefers-color-scheme dark)
      background rgba(white, 0.5)


gradient-alpha = 10%
background-alpha = 40%
inset-shadow-alpha = 30%
shadow-alpha = 25%

gradient-light = linear-gradient(45deg,
  rgba(224, 208, 255, gradient-alpha) 0%,
  rgba(255, 208, 255, gradient-alpha) 50%,
  rgba(255, 255, 255, gradient-alpha) 100%);

gradient-dark = linear-gradient(45deg,
  rgba(32, 0, 48, gradient-alpha) 0%,
  rgba(0,  0, 48, gradient-alpha) 50%,
  rgba(0,  0, 0,  gradient-alpha) 100%)

$base-box
  box-sizing border-box
  border-radius 1rem

$shadowless-glassmorphism
  @extend $base-box

  backdrop-filter blur(8px) 
  border 1px solid rgba(gray, 50%)

  box-shadow inset 0 0 1rem rgba(white, inset-shadow-alpha)
  background-image gradient-light
  background-color rgba(white, background-alpha)

  @media (prefers-color-scheme dark)
    box-shadow inset 0 0 1rem rgba(gray, inset-shadow-alpha)
    background-image gradient-dark
    background-color rgba(black, background-alpha)

$glassmorphism
  @extend $shadowless-glassmorphism

  filter drop-shadow(0 0 4px rgba(black, shadow-alpha))
  @media (prefers-color-scheme dark)
    filter drop-shadow(0 0 4px rgba(white, shadow-alpha))


$button
  @extend $glassmorphism
  display block
  sans(1rem)
  padding 0.5rem
  @media screen and (min-width widths.large)
    sans(1.5rem)
    padding 1rem

$card
  @extend $glassmorphism
  padding 1rem
  display grid
  grid-template-rows auto 1fr
  grid-template-columns auto 1fr
  gap 0.5rem
  grid-template-areas "icon label" \
                      "desc desc ";

  :global(svg)
    grid-area icon
    font-size 2rem

  h3
    grid-area label
    sans(2rem, 2rem)
    width 100%

  p
    grid-area desc
    sans(1.25rem)

$header-text
  sans(3rem, 3.5rem)
  @media screen and (min-width widths.medium)
    sans(3.5rem, 4rem)
  @media screen and (min-width widths.large)
    sans(4rem, 4.5rem)

$header-sub-text
  sans(1.25rem, 1.5rem)
  @media screen and (min-width widths.medium)
    sans(1.5rem, 1.75rem)
  @media screen and (min-width widths.large)
    sans(1.75rem, 2rem)

zoom(ms = 100ms, function = ease-out, _scale = 125%)
  &:hover
    transition all ms function
    transform scale(_scale)

