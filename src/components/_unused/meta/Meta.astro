---
import { ViewTransitions, fade } from "astro:transitions";

import { Website, PreResources } from "@lib/meta";
import { Schemas, SchemaProps } from "@lib/schema";

import Pre from "@components/layouts/meta/Pre.astro";
import Settings from "@layouts-components/meta/Settings.astro";
import Data from "@layouts-components/meta/Data.astro";

import logo from "@icons/favicon.svg";

export interface Props extends SchemaProps {
  title: string;
  noIndex: boolean;
  favicon?: string;
  resources?: PreResources;
  meta?: Website;
}

const {
  title,
  noIndex,
  favicon = logo.src,
  resources,
  meta = {
    name: "7rs.dev",
    description: "No ads, No paid, No morals.",
    url: "https://7rs.dev/",
    author: "Cbrnex",
    image: logo.src,
    imageAlt: "7rs logo",
    keywords: ["Cbrnex", "7rs", "q–Øze", "MANJSRSU", "Rynon"],
    twitterId: "qlzegg",
  },
  schemaType = Schemas.WebSite,
  schema = { name: "7rs.dev", alternateName: "Pages", image: "https://7rs.dev/avatar", url: "https://7rs.dev/" },
} = Astro.props;
---

<head>
  {resources && <Pre fonts={resources.fonts} images={resources.images} />}
  <ViewTransitions transition:animate={fade({ duration: "0.1s" })} />
  <Data title={title} meta={meta} schemaType={schemaType} schema={schema} />
  <Settings favicon={favicon} noIndex={noIndex} />
  <slot />
</head>
