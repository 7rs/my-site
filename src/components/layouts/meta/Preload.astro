---
import { createGoogleFontURL } from "@lib/font"

export interface Props {
  fonts?: Array<string>;
  images?: Array<{ format: string; src: string, media?: string }>;
}

const { fonts = [], images } = Astro.props;
---

<!-- Google Fonts -->
<link rel="dns-prefetch" href="//fonts.googleapis.com/" />
<link rel="dns-prefetch" href="//fonts.gstatic.com/" />
<link rel="preconnect" href="https://fonts.googleapis.com/" crossorigin />
<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
<link rel="stylesheet" href={createGoogleFontURL(fonts)} as="style" crossorigin />

<!-- Iconify -->
<link rel="dns-prefetch" href="//api.iconify.design" />
<link rel="preconnect" href="https://api.iconify.design/" crossorigin />

<!-- Images -->
{
  images?.map((image) => (
    <link rel="prefetch" fetchpriority="high" as="image" type={`image/${image.format}`} href={image.src} />
  ))
}
